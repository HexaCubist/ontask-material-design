{% extends 'base_md.html' %}
{% load i18n %}
{% load ontask_tags %}
{% load static %}
{% load django_tables2 %}
{% load crispy_forms_tags %}
{% load widget_tweaks %}
{% block title %}{{ block.super }}{% trans 'Workflows' %}{% endblock %}
{% block extrahead %}
{% endblock extrahead %}
{% block scripts %}
	<script type="text/javascript">
		function shadeColor2(color, percent) {   
			var f=parseInt(color.slice(1),16),t=percent<0?0:255,p=percent<0?percent*-1:percent,R=f>>16,G=f>>8&0x00FF,B=f&0x0000FF;
			return "#"+(0x1000000+(Math.round((t-R)*p)+R)*0x10000+(Math.round((t-G)*p)+G)*0x100+(Math.round((t-B)*p)+B)).toString(16).slice(1);
		}

		$(".randomColor").each(function( i ) {
			this.style.background = shadeColor2(materialColor(),0.3);
		});
	</script>
{% endblock %}
{% block container %}
    <div class="mdc-layout-grid__cell--span-12">
    	<h1 class="section-title mdc-typography--headline2">Workflows</h1>
    </div>
    {# Workflows #}
    {% for workflow in workflows %}
    	<a class="mdc-layout-grid__cell--span-3 mdc-card">
			<div class="workflow-card__primary mdc-card__media randomColor">
				<h2 class="worfklow-card__title mdc-typography--headline4">
					{{workflow.name|capfirst}}
					<br/><small>2018 Semester 1</small>
				</h2>
			</div>
			<div class="workflow-card__primary">
			</div>
			<div class="mdc-card__actions">
				<div class="mdc-card__action-buttons">
					<button class="mdc-button mdc-card__action mdc-card__action--button">Open</button>
				</div>
				<div class="mdc-card__action-icons">
					<button class="material-icons mdc-icon-button mdc-card__action mdc-card__action--icon" title="More options">more_vert</button>
				</div>
			</div>
		</a>
    {% endfor %}
	<a class="mdc-layout-grid__cell--span-3 create-card mdc-card">
		<div class="workflow-card__primary">
			<h2 class="worfklow-card__title mdc-typography--headline4 align-center">
				Create
			</h2>
		</div>
	</a>
{% endblock container %}
